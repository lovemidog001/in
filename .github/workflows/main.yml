          name: Infini Cloud Auto Login

on:
  schedule:
    - cron: '0 0 */3 * *'  # 每三天執行一次
  workflow_dispatch:  # 允許手動觸發工作流

jobs:
  login-job:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v2

      - name: Login to Infini Cloud
        env:
          CREDENTIALS: ${{ secrets.WEBSITE }}
        run: |
          # 設置需要登入的網站地址
          SITE="infini-cloud.net"
          
          # 模擬多帳號登入，根據需要的邏輯選擇帳號
          ACCOUNT="WEBSITE"  # 假設選擇第一個帳號
          
          # 根據選擇的帳號對應的 Secret
          ACCOUNT_CREDENTIAL="${!ACCOUNT}"  # 解決選擇帳號的方式

          # 登入邏輯，這裡可以根據實際需要調整，假設是模擬登入
          echo "Logging into ${SITE} with account: $ACCOUNT_CREDENTIAL"

          # 你可以根據網站的 API 或需求模擬登入
          # 例如使用 curl 或其他方法提交登入請求
          curl -X POST "https://infini-cloud.net/login" -d "username=${ACCOUNT_CREDENTIAL}" -d "password=your_password_here"
          
          # 這裡可以替換為其他方式的登入邏輯
          echo "Successfully logged in with account $ACCOUNT"

          # 完成後的操作可以繼續
          # 可以根據網站的 API 繼續進行後續操作

